<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBTIäººæ ¼æµ‹è¯• - ä¸“ä¸šç‰ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --secondary: #ec4899;
            --accent: #8b5cf6;
            --dark: #1e1b4b;
            --light: #f8fafc;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --gradient-3: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        .container {
            width: 100%;
            max-width: 900px;
            position: relative;
            z-index: 1;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 32px;
            padding: 60px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            text-align: center;
            margin-bottom: 50px;
        }

        .logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: var(--gradient-1);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: 700;
            color: white;
            font-family: 'Noto Serif SC', serif;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        h1 {
            font-family: 'Noto Serif SC', serif;
            font-size: 42px;
            font-weight: 700;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #64748b;
            font-size: 16px;
            font-weight: 300;
        }

        .start-content {
            text-align: center;
            padding: 40px 0;
        }

        .intro-text {
            font-size: 18px;
            color: #64748b;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .features-box {
            background: linear-gradient(135deg, #667eea10 0%, #764ba220 100%);
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 30px;
        }

        .features-text {
            font-size: 16px;
            color: #667eea;
            font-weight: 600;
            line-height: 2;
        }

        .question-container {
            margin-bottom: 40px;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .question-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }

        .question-number {
            width: 50px;
            height: 50px;
            background: var(--gradient-1);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 20px;
            margin-right: 20px;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .question-text {
            font-size: 22px;
            font-weight: 500;
            color: var(--dark);
            flex: 1;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            color: #334155;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--gradient-1);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .option span {
            position: relative;
            z-index: 1;
        }

        .option:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.2);
        }

        .option.selected {
            border-color: #667eea;
            background: var(--gradient-1);
            color: white;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .option.selected::before {
            opacity: 1;
        }

        .progress-bar {
            height: 8px;
            background: #e2e8f0;
            border-radius: 10px;
            margin-bottom: 40px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--gradient-1);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .button {
            background: var(--gradient-1);
            color: white;
            border: none;
            border-radius: 16px;
            padding: 18px 45px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            font-family: 'Noto Sans SC', sans-serif;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin-top: 40px;
        }

        .button-secondary {
            background: linear-gradient(135deg, #64748b 0%, #475569 100%);
        }

        .result-container {
            text-align: center;
            animation: fadeIn 0.6s ease-out;
        }

        .result-badge {
            width: 150px;
            height: 150px;
            margin: 0 auto 30px;
            background: var(--gradient-1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 64px;
            font-weight: 700;
            color: white;
            box-shadow: 0 20px 50px rgba(102, 126, 234, 0.4);
            animation: scaleIn 0.5s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .result-type {
            font-size: 36px;
            font-weight: 700;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .result-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 30px;
        }

        .result-description {
            font-size: 16px;
            line-height: 1.8;
            color: #64748b;
            margin-bottom: 30px;
            text-align: left;
        }

        .trait-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .trait-card {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 20px;
            border-radius: 16px;
            text-align: left;
        }

        .trait-label {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 8px;
        }

        .trait-value {
            font-size: 20px;
            font-weight: 600;
            color: var(--dark);
        }

        .hidden {
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 40px 30px;
            }
            
            h1 {
                font-size: 32px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .trait-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å¼€å§‹é¡µé¢ -->
        <div id="startPage">
            <div class="header">
                <div class="logo">å¿ƒ</div>
                <h1>MBTIäººæ ¼æµ‹è¯•</h1>
                <p class="subtitle">æ¢ç´¢ä½ çš„å†…åœ¨æ€§æ ¼ï¼Œå‘ç°çœŸå®çš„è‡ªå·±</p>
            </div>
            
            <div class="start-content">
                <p class="intro-text">
                    é€šè¿‡8é“ç²¾å¿ƒè®¾è®¡çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†å¸®åŠ©ä½ äº†è§£ï¼š<br/>
                    â€¢ ä½ çš„èƒ½é‡æ¥æºï¼ˆå¤–å‘/å†…å‘ï¼‰<br/>
                    â€¢ ä½ çš„ä¿¡æ¯æ¥æ”¶æ–¹å¼ï¼ˆæ„Ÿè§‰/ç›´è§‰ï¼‰<br/>
                    â€¢ ä½ çš„å†³ç­–æ–¹å¼ï¼ˆæ€è€ƒ/æƒ…æ„Ÿï¼‰<br/>
                    â€¢ ä½ çš„ç”Ÿæ´»æ€åº¦ï¼ˆåˆ¤æ–­/æ„ŸçŸ¥ï¼‰
                </p>
                <div class="features-box">
                    <p class="features-text">
                        ğŸ“Š è·å¾—16ç§äººæ ¼ç±»å‹ä¹‹ä¸€çš„è¯¦ç»†åˆ†æ<br/>
                        ğŸ¯ äº†è§£ä½ çš„ä¼˜åŠ¿ä¸æˆé•¿ç©ºé—´<br/>
                        ğŸ’ ä¸“ä¸šçš„å¿ƒç†å­¦ç†è®ºæ”¯æŒ
                    </p>
                </div>
                <button class="button" onclick="startTest()">å¼€å§‹æµ‹è¯•</button>
            </div>
        </div>

        <!-- æµ‹è¯•é¡µé¢ -->
        <div id="testPage" class="hidden">
            <div class="header">
                <h1>MBTIæµ‹è¯•</h1>
                <p class="subtitle">ç¬¬ <span id="currentQuestionNum">1</span> / 8 é¢˜</p>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="question-container">
                <div class="question-header">
                    <div class="question-number" id="questionNumber">1</div>
                    <div class="question-text" id="questionText"></div>
                </div>

                <div class="options" id="optionsContainer"></div>
            </div>

            <div class="button-group">
                <button class="button button-secondary" id="prevBtn" onclick="previousQuestion()">ä¸Šä¸€é¢˜</button>
                <button class="button" id="nextBtn" onclick="nextQuestion()" disabled>ä¸‹ä¸€é¢˜</button>
            </div>
        </div>

        <!-- ç»“æœé¡µé¢ -->
        <div id="resultPage" class="hidden">
            <div class="result-container">
                <div class="result-badge" id="resultEmoji"></div>
                <div class="result-type" id="resultType"></div>
                <div class="result-title" id="resultTitle"></div>
                <div class="result-description" id="resultDescription"></div>

                <div class="trait-grid">
                    <div class="trait-card">
                        <div class="trait-label">èƒ½é‡æ¥æº</div>
                        <div class="trait-value" id="trait1"></div>
                    </div>
                    <div class="trait-card">
                        <div class="trait-label">ä¿¡æ¯æ¥æ”¶</div>
                        <div class="trait-value" id="trait2"></div>
                    </div>
                    <div class="trait-card">
                        <div class="trait-label">å†³ç­–æ–¹å¼</div>
                        <div class="trait-value" id="trait3"></div>
                    </div>
                    <div class="trait-card">
                        <div class="trait-label">ç”Ÿæ´»æ€åº¦</div>
                        <div class="trait-value" id="trait4"></div>
                    </div>
                </div>

                <button class="button" onclick="restartTest()">é‡æ–°æµ‹è¯•</button>
            </div>
        </div>
    </div>

    <script>
        // æµ‹è¯•é¢˜ç›®æ•°æ®
        const questions = [
            {
                dimension: 'EI',
                question: 'åœ¨èšä¼šä¸­ï¼Œä½ é€šå¸¸ä¼šï¼š',
                options: [
                    { text: 'ä¸»åŠ¨ä¸é™Œç”Ÿäººäº¤è°ˆï¼Œäº«å—ç¤¾äº¤æ°›å›´', value: 'E' },
                    { text: 'æ›´å–œæ¬¢ä¸ç†Ÿæ‚‰çš„æœ‹å‹æ·±å…¥äº¤æµ', value: 'I' }
                ]
            },
            {
                dimension: 'EI',
                question: 'å·¥ä½œä¸€å¤©åï¼Œä½ æ›´å€¾å‘äºï¼š',
                options: [
                    { text: 'çº¦æœ‹å‹å‡ºå»æ”¾æ¾å……ç”µ', value: 'E' },
                    { text: 'ç‹¬è‡ªåœ¨å®¶ä¼‘æ¯æ¢å¤ç²¾åŠ›', value: 'I' }
                ]
            },
            {
                dimension: 'SN',
                question: 'åšå†³å®šæ—¶ï¼Œä½ æ›´å…³æ³¨ï¼š',
                options: [
                    { text: 'å…·ä½“çš„äº‹å®å’Œç»†èŠ‚', value: 'S' },
                    { text: 'æ•´ä½“çš„è¶‹åŠ¿å’Œå¯èƒ½æ€§', value: 'N' }
                ]
            },
            {
                dimension: 'SN',
                question: 'ä½ æ›´å–œæ¬¢çš„å­¦ä¹ æ–¹å¼æ˜¯ï¼š',
                options: [
                    { text: 'é€šè¿‡å®è·µå’Œå…·ä½“ä¾‹å­', value: 'S' },
                    { text: 'ç†è§£æ¦‚å¿µå’Œç†è®ºæ¡†æ¶', value: 'N' }
                ]
            },
            {
                dimension: 'TF',
                question: 'é¢å¯¹å†²çªæ—¶ï¼Œä½ é¦–å…ˆè€ƒè™‘ï¼š',
                options: [
                    { text: 'å®¢è§‚åˆ†æé—®é¢˜å’Œé€»è¾‘', value: 'T' },
                    { text: 'è€ƒè™‘ä»–äººæ„Ÿå—å’Œå…³ç³»', value: 'F' }
                ]
            },
            {
                dimension: 'TF',
                question: 'åˆ«äººå¯»æ±‚å»ºè®®æ—¶ï¼Œä½ å€¾å‘äºï¼š',
                options: [
                    { text: 'æä¾›å®é™…çš„è§£å†³æ–¹æ¡ˆ', value: 'T' },
                    { text: 'ç»™äºˆæƒ…æ„Ÿæ”¯æŒå’Œç†è§£', value: 'F' }
                ]
            },
            {
                dimension: 'JP',
                question: 'ä½ æ›´å–œæ¬¢çš„å·¥ä½œæ–¹å¼æ˜¯ï¼š',
                options: [
                    { text: 'æå‰è®¡åˆ’ï¼ŒæŒ‰éƒ¨å°±ç­', value: 'J' },
                    { text: 'ä¿æŒçµæ´»ï¼Œéšæœºåº”å˜', value: 'P' }
                ]
            },
            {
                dimension: 'JP',
                question: 'å‘¨æœ«è®¡åˆ’ï¼Œä½ é€šå¸¸ï¼š',
                options: [
                    { text: 'æå‰å®‰æ’å¥½æ‰€æœ‰æ´»åŠ¨', value: 'J' },
                    { text: 'çœ‹æƒ…å†µéšæ—¶å†³å®š', value: 'P' }
                ]
            }
        ];

        // MBTIç±»å‹ä¿¡æ¯
        const mbtiTypes = {
            'INTJ': { name: 'å»ºç­‘å¸ˆ', emoji: 'ğŸ›ï¸', desc: 'å¯Œæœ‰æƒ³è±¡åŠ›å’Œæˆ˜ç•¥æ€§çš„æ€è€ƒè€…ï¼Œä¸€åˆ‡çš†æœ‰å¯èƒ½ã€‚ä»–ä»¬å–„äºé•¿è¿œè§„åˆ’ï¼Œç‹¬ç«‹æ€è€ƒï¼Œè¿½æ±‚çŸ¥è¯†å’Œèƒ½åŠ›ã€‚' },
            'INTP': { name: 'é€»è¾‘å­¦å®¶', emoji: 'ğŸ”¬', desc: 'å…·æœ‰åˆ›æ–°ç²¾ç¥çš„å‘æ˜å®¶ï¼Œå¯¹çŸ¥è¯†æœ‰ç€ä¸å¯æŠ‘åˆ¶çš„æ¸´æœ›ã€‚ä»–ä»¬äº«å—ç†è®ºæ€è€ƒï¼Œå–œæ¬¢æ¢ç´¢å¤æ‚ç³»ç»Ÿã€‚' },
            'ENTJ': { name: 'æŒ‡æŒ¥å®˜', emoji: 'âš”ï¸', desc: 'å¤§èƒ†ã€å¯Œæœ‰æƒ³è±¡åŠ›ä¸”æ„å¿—å¼ºå¤§çš„é¢†å¯¼è€…ï¼Œæ€»èƒ½æ‰¾åˆ°æˆ–åˆ›é€ è§£å†³æ–¹æ³•ã€‚ä»–ä»¬å¤©ç”Ÿå…·æœ‰é¢†å¯¼æ‰èƒ½ã€‚' },
            'ENTP': { name: 'è¾©è®ºå®¶', emoji: 'ğŸ’¡', desc: 'èªæ˜å¥½å¥‡çš„æ€è€ƒè€…ï¼Œæ— æ³•æŠ—æ‹’æ™ºåŠ›ä¸Šçš„æŒ‘æˆ˜ã€‚ä»–ä»¬å–„äºåˆ›æ–°ï¼Œå–œæ¬¢å¤´è„‘é£æš´å’Œæ¢ç´¢æ–°æƒ³æ³•ã€‚' },
            'INFJ': { name: 'æå€¡è€…', emoji: 'ğŸ¦‹', desc: 'å®‰é™è€Œç¥ç§˜ï¼Œé¼“èˆäººå¿ƒçš„ç†æƒ³ä¸»ä¹‰è€…ã€‚ä»–ä»¬å¯Œæœ‰åŒç†å¿ƒï¼Œè¿½æ±‚æ›´æ·±å±‚æ¬¡çš„æ„ä¹‰å’ŒçœŸå®çš„è”ç³»ã€‚' },
            'INFP': { name: 'è°ƒåœè€…', emoji: 'ğŸŒ¸', desc: 'è¯—æ„è€Œå–„è‰¯çš„åˆ©ä»–ä¸»ä¹‰è€…ï¼Œæ€»æ˜¯çƒ­åˆ‡åœ°å¯»æ±‚å¸®åŠ©åˆ«äººçš„æœºä¼šã€‚ä»–ä»¬æœ‰å¼ºçƒˆçš„ä»·å€¼è§‚å’Œç†æƒ³ã€‚' },
            'ENFJ': { name: 'ä¸»äººå…¬', emoji: 'ğŸŒŸ', desc: 'å¯Œæœ‰é­…åŠ›ä¸”é¼“èˆäººå¿ƒçš„é¢†å¯¼è€…ï¼Œæœ‰èƒ½åŠ›ä½¿å¬ä¼—ç€è¿·ã€‚ä»–ä»¬å–„äºæ¿€åŠ±ä»–äººï¼Œä¿ƒè¿›å’Œè°ã€‚' },
            'ENFP': { name: 'ç«é€‰è€…', emoji: 'ğŸ¨', desc: 'çƒ­æƒ…ã€æœ‰åˆ›é€ åŠ›ã€çˆ±ç¤¾äº¤çš„è‡ªç”±çµé­‚ï¼Œæ€»èƒ½æ‰¾åˆ°ç†ç”±å¾®ç¬‘ã€‚ä»–ä»¬å……æ»¡æ´»åŠ›ï¼Œå–„äºä¸äººå»ºç«‹è”ç³»ã€‚' },
            'ISTJ': { name: 'ç‰©æµå¸ˆ', emoji: 'ğŸ“‹', desc: 'å®é™…ä¸”æ³¨é‡äº‹å®çš„ä¸ªäººï¼Œå¯é æ€§ä¸å®¹æ€€ç–‘ã€‚ä»–ä»¬è´Ÿè´£ä»»ï¼Œé‡è§†ä¼ ç»Ÿå’Œç§©åºã€‚' },
            'ISFJ': { name: 'å®ˆå«è€…', emoji: 'ğŸ›¡ï¸', desc: 'éå¸¸ä¸“æ³¨è€Œæ¸©æš–çš„å®ˆæŠ¤è€…ï¼Œæ—¶åˆ»å‡†å¤‡ä¿æŠ¤ä»–ä»¬æ‰€çˆ±çš„äººã€‚ä»–ä»¬å¿ è¯šå¯é ï¼Œå…³å¿ƒä»–äººã€‚' },
            'ESTJ': { name: 'æ€»ç»ç†', emoji: 'ğŸ‘”', desc: 'å‡ºè‰²çš„ç®¡ç†è€…ï¼Œåœ¨ç®¡ç†äº‹ç‰©æˆ–äººæ–¹é¢æ— ä¸ä¼¦æ¯”ã€‚ä»–ä»¬åŠ¡å®é«˜æ•ˆï¼Œå–„äºç»„ç»‡ã€‚' },
            'ESFJ': { name: 'æ‰§æ”¿å®˜', emoji: 'ğŸ¤', desc: 'ææœ‰çˆ±å¿ƒã€å–„äºç¤¾äº¤çš„äººï¼Œæ€»æ˜¯çƒ­åˆ‡åœ°å¸®åŠ©ä»–äººã€‚ä»–ä»¬å¿ è¯šå‹å–„ï¼Œé‡è§†å’Œè°å…³ç³»ã€‚' },
            'ISTP': { name: 'é‰´èµå®¶', emoji: 'ğŸ”§', desc: 'å¤§èƒ†è€Œå®é™…çš„å®éªŒè€…ï¼Œæ“…é•¿ä½¿ç”¨å„ç§å·¥å…·ã€‚ä»–ä»¬çµæ´»åº”å˜ï¼Œå–œæ¬¢åŠ¨æ‰‹è§£å†³é—®é¢˜ã€‚' },
            'ISFP': { name: 'æ¢é™©å®¶', emoji: 'ğŸ­', desc: 'çµæ´»è€Œæœ‰é­…åŠ›çš„è‰ºæœ¯å®¶ï¼Œæ—¶åˆ»å‡†å¤‡æ¢ç´¢å’Œä½“éªŒæ–°äº‹ç‰©ã€‚ä»–ä»¬çƒ­çˆ±è‡ªç”±ï¼Œè¿½æ±‚ç¾æ„Ÿã€‚' },
            'ESTP': { name: 'ä¼ä¸šå®¶', emoji: 'ğŸ¯', desc: 'èªæ˜ã€ç²¾åŠ›å……æ²›ã€å–„äºæ„ŸçŸ¥çš„äººï¼ŒçœŸæ­£äº«å—ç”Ÿæ´»åœ¨è¾¹ç¼˜çš„æ„Ÿè§‰ã€‚ä»–ä»¬è¡ŒåŠ¨åŠ›å¼ºï¼Œå–„äºå†’é™©ã€‚' },
            'ESFP': { name: 'è¡¨æ¼”è€…', emoji: 'ğŸª', desc: 'è‡ªå‘çš„ã€ç²¾åŠ›å……æ²›çš„ã€çƒ­æƒ…çš„æ¼”è‰ºäººå‘˜ï¼Œç”Ÿæ´»åœ¨ä»–ä»¬å‘¨å›´ä»ä¸æ— èŠã€‚ä»–ä»¬çƒ­çˆ±ç”Ÿæ´»ï¼Œäº«å—å½“ä¸‹ã€‚' }
        };

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let answers = {};

        // å¼€å§‹æµ‹è¯•
        function startTest() {
            document.getElementById('startPage').classList.add('hidden');
            document.getElementById('testPage').classList.remove('hidden');
            loadQuestion();
        }

        // åŠ è½½é—®é¢˜
        function loadQuestion() {
            const question = questions[currentQuestion];
            
            document.getElementById('currentQuestionNum').textContent = currentQuestion + 1;
            document.getElementById('questionNumber').textContent = currentQuestion + 1;
            document.getElementById('questionText').textContent = question.question;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            // ç”Ÿæˆé€‰é¡¹
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                if (answers[currentQuestion] === option.value) {
                    optionDiv.classList.add('selected');
                }
                optionDiv.innerHTML = `<span>${option.text}</span>`;
                optionDiv.onclick = () => selectOption(option.value, optionDiv);
                optionsContainer.appendChild(optionDiv);
            });
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            updateNextButton();
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(value, element) {
            // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // æ·»åŠ å½“å‰é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
            element.classList.add('selected');
            
            // ä¿å­˜ç­”æ¡ˆ
            answers[currentQuestion] = value;
            
            // æ›´æ–°ä¸‹ä¸€é¢˜æŒ‰é’®çŠ¶æ€
            updateNextButton();
        }

        // æ›´æ–°ä¸‹ä¸€é¢˜æŒ‰é’®
        function updateNextButton() {
            const nextBtn = document.getElementById('nextBtn');
            const isAnswered = answers[currentQuestion] !== undefined;
            
            nextBtn.disabled = !isAnswered;
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.textContent = 'æŸ¥çœ‹ç»“æœ';
            } else {
                nextBtn.textContent = 'ä¸‹ä¸€é¢˜';
            }
        }

        // ä¸Šä¸€é¢˜
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResult();
            }
        }

        // è®¡ç®—å¹¶æ˜¾ç¤ºç»“æœ
        function showResult() {
            // è®¡ç®—åˆ†æ•°
            const scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            
            Object.values(answers).forEach(answer => {
                scores[answer]++;
            });
            
            // ç¡®å®šç±»å‹
            const type = 
                (scores.E >= scores.I ? 'E' : 'I') +
                (scores.S >= scores.N ? 'S' : 'N') +
                (scores.T >= scores.F ? 'T' : 'F') +
                (scores.J >= scores.P ? 'J' : 'P');
            
            const typeInfo = mbtiTypes[type];
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('testPage').classList.add('hidden');
            document.getElementById('resultPage').classList.remove('hidden');
            
            document.getElementById('resultEmoji').textContent = typeInfo.emoji;
            document.getElementById('resultType').textContent = type;
            document.getElementById('resultTitle').textContent = typeInfo.name;
            document.getElementById('resultDescription').textContent = typeInfo.desc;
            
            // æ˜¾ç¤ºç‰¹è´¨
            document.getElementById('trait1').textContent = type[0] === 'E' ? 'å¤–å‘ (E)' : 'å†…å‘ (I)';
            document.getElementById('trait2').textContent = type[1] === 'S' ? 'æ„Ÿè§‰ (S)' : 'ç›´è§‰ (N)';
            document.getElementById('trait3').textContent = type[2] === 'T' ? 'æ€è€ƒ (T)' : 'æƒ…æ„Ÿ (F)';
            document.getElementById('trait4').textContent = type[3] === 'J' ? 'åˆ¤æ–­ (J)' : 'æ„ŸçŸ¥ (P)';
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            currentQuestion = 0;
            answers = {};
            
            document.getElementById('resultPage').classList.add('hidden');
            document.getElementById('startPage').classList.remove('hidden');
        }
    </script>
</body>
</html>
